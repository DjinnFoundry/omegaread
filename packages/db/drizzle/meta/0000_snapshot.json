{
  "version": "6",
  "dialect": "sqlite",
  "id": "d9db9377-8506-4a06-919a-5017b8e11e44",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "tables": {
    "achievements": {
      "name": "achievements",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tipo": {
          "name": "tipo",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "logro_id": {
          "name": "logro_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "nombre": {
          "name": "nombre",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "icono": {
          "name": "icono",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "descripcion": {
          "name": "descripcion",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "coleccion": {
          "name": "coleccion",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        },
        "ganado_en": {
          "name": "ganado_en",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "achievements_student_idx": {
          "name": "achievements_student_idx",
          "columns": [
            "student_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "achievements_student_id_students_id_fk": {
          "name": "achievements_student_id_students_id_fk",
          "tableFrom": "achievements",
          "tableTo": "students",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "baseline_assessments": {
      "name": "baseline_assessments",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "nivel_texto": {
          "name": "nivel_texto",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "texto_id": {
          "name": "texto_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "total_preguntas": {
          "name": "total_preguntas",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "aciertos": {
          "name": "aciertos",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "aciertos_por_tipo": {
          "name": "aciertos_por_tipo",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        },
        "tiempo_lectura_ms": {
          "name": "tiempo_lectura_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "respuestas": {
          "name": "respuestas",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "creado_en": {
          "name": "creado_en",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "baseline_student_idx": {
          "name": "baseline_student_idx",
          "columns": [
            "student_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "baseline_assessments_student_id_students_id_fk": {
          "name": "baseline_assessments_student_id_students_id_fk",
          "tableFrom": "baseline_assessments",
          "tableTo": "students",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "difficulty_adjustments": {
      "name": "difficulty_adjustments",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "nivel_anterior": {
          "name": "nivel_anterior",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "nivel_nuevo": {
          "name": "nivel_nuevo",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "direccion": {
          "name": "direccion",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "razon": {
          "name": "razon",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "evidencia": {
          "name": "evidencia",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        },
        "creado_en": {
          "name": "creado_en",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "difficulty_student_idx": {
          "name": "difficulty_student_idx",
          "columns": [
            "student_id"
          ],
          "isUnique": false
        },
        "difficulty_session_idx": {
          "name": "difficulty_session_idx",
          "columns": [
            "session_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "difficulty_adjustments_student_id_students_id_fk": {
          "name": "difficulty_adjustments_student_id_students_id_fk",
          "tableFrom": "difficulty_adjustments",
          "tableTo": "students",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "difficulty_adjustments_session_id_sessions_id_fk": {
          "name": "difficulty_adjustments_session_id_sessions_id_fk",
          "tableFrom": "difficulty_adjustments",
          "tableTo": "sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "elo_snapshots": {
      "name": "elo_snapshots",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "elo_global": {
          "name": "elo_global",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "elo_literal": {
          "name": "elo_literal",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "elo_inferencia": {
          "name": "elo_inferencia",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "elo_vocabulario": {
          "name": "elo_vocabulario",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "elo_resumen": {
          "name": "elo_resumen",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "rd_global": {
          "name": "rd_global",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 350
        },
        "wpm_promedio": {
          "name": "wpm_promedio",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "creado_en": {
          "name": "creado_en",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "elo_snapshots_student_idx": {
          "name": "elo_snapshots_student_idx",
          "columns": [
            "student_id"
          ],
          "isUnique": false
        },
        "elo_snapshots_created_idx": {
          "name": "elo_snapshots_created_idx",
          "columns": [
            "creado_en"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "elo_snapshots_student_id_students_id_fk": {
          "name": "elo_snapshots_student_id_students_id_fk",
          "tableFrom": "elo_snapshots",
          "tableTo": "students",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "elo_snapshots_session_id_sessions_id_fk": {
          "name": "elo_snapshots_session_id_sessions_id_fk",
          "tableFrom": "elo_snapshots",
          "tableTo": "sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "generated_stories": {
      "name": "generated_stories",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "topic_slug": {
          "name": "topic_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "titulo": {
          "name": "titulo",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "contenido": {
          "name": "contenido",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "nivel": {
          "name": "nivel",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "modelo_generacion": {
          "name": "modelo_generacion",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "prompt_version": {
          "name": "prompt_version",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'v1'"
        },
        "aprobada_qa": {
          "name": "aprobada_qa",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "motivo_rechazo": {
          "name": "motivo_rechazo",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "reutilizable": {
          "name": "reutilizable",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": true
        },
        "creado_en": {
          "name": "creado_en",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "stories_student_idx": {
          "name": "stories_student_idx",
          "columns": [
            "student_id"
          ],
          "isUnique": false
        },
        "stories_topic_idx": {
          "name": "stories_topic_idx",
          "columns": [
            "topic_slug"
          ],
          "isUnique": false
        },
        "stories_cache_idx": {
          "name": "stories_cache_idx",
          "columns": [
            "student_id",
            "topic_slug",
            "nivel",
            "reutilizable"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "generated_stories_student_id_students_id_fk": {
          "name": "generated_stories_student_id_students_id_fk",
          "tableFrom": "generated_stories",
          "tableTo": "students",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "manual_adjustments": {
      "name": "manual_adjustments",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "story_id": {
          "name": "story_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tipo": {
          "name": "tipo",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "nivel_antes": {
          "name": "nivel_antes",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "nivel_despues": {
          "name": "nivel_despues",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tiempo_lectura_antes_ms": {
          "name": "tiempo_lectura_antes_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "rewritten_story_id": {
          "name": "rewritten_story_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "creado_en": {
          "name": "creado_en",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "manual_adj_student_idx": {
          "name": "manual_adj_student_idx",
          "columns": [
            "student_id"
          ],
          "isUnique": false
        },
        "manual_adj_session_idx": {
          "name": "manual_adj_session_idx",
          "columns": [
            "session_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "manual_adjustments_student_id_students_id_fk": {
          "name": "manual_adjustments_student_id_students_id_fk",
          "tableFrom": "manual_adjustments",
          "tableTo": "students",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "manual_adjustments_session_id_sessions_id_fk": {
          "name": "manual_adjustments_session_id_sessions_id_fk",
          "tableFrom": "manual_adjustments",
          "tableTo": "sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "manual_adjustments_story_id_generated_stories_id_fk": {
          "name": "manual_adjustments_story_id_generated_stories_id_fk",
          "tableFrom": "manual_adjustments",
          "tableTo": "generated_stories",
          "columnsFrom": [
            "story_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "manual_adjustments_rewritten_story_id_generated_stories_id_fk": {
          "name": "manual_adjustments_rewritten_story_id_generated_stories_id_fk",
          "tableFrom": "manual_adjustments",
          "tableTo": "generated_stories",
          "columnsFrom": [
            "rewritten_story_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "parents": {
      "name": "parents",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "password_hash": {
          "name": "password_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "nombre": {
          "name": "nombre",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "idioma": {
          "name": "idioma",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'es-ES'"
        },
        "config": {
          "name": "config",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        },
        "creado_en": {
          "name": "creado_en",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "actualizado_en": {
          "name": "actualizado_en",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "parents_email_unique": {
          "name": "parents_email_unique",
          "columns": [
            "email"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "responses": {
      "name": "responses",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "ejercicio_id": {
          "name": "ejercicio_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tipo_ejercicio": {
          "name": "tipo_ejercicio",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "pregunta": {
          "name": "pregunta",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "respuesta": {
          "name": "respuesta",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "respuesta_correcta": {
          "name": "respuesta_correcta",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "correcta": {
          "name": "correcta",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tiempo_respuesta_ms": {
          "name": "tiempo_respuesta_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "intento_numero": {
          "name": "intento_numero",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        },
        "creada_en": {
          "name": "creada_en",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "responses_session_idx": {
          "name": "responses_session_idx",
          "columns": [
            "session_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "responses_session_id_sessions_id_fk": {
          "name": "responses_session_id_sessions_id_fk",
          "tableFrom": "responses",
          "tableTo": "sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "sessions": {
      "name": "sessions",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tipo_actividad": {
          "name": "tipo_actividad",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "modulo": {
          "name": "modulo",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "duracion_segundos": {
          "name": "duracion_segundos",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "completada": {
          "name": "completada",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "estrellas_ganadas": {
          "name": "estrellas_ganadas",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "sticker_ganado": {
          "name": "sticker_ganado",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "story_id": {
          "name": "story_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        },
        "wpm_promedio": {
          "name": "wpm_promedio",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "wpm_por_pagina": {
          "name": "wpm_por_pagina",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "total_paginas": {
          "name": "total_paginas",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "iniciada_en": {
          "name": "iniciada_en",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "finalizada_en": {
          "name": "finalizada_en",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "sessions_student_idx": {
          "name": "sessions_student_idx",
          "columns": [
            "student_id"
          ],
          "isUnique": false
        },
        "sessions_fecha_idx": {
          "name": "sessions_fecha_idx",
          "columns": [
            "iniciada_en"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "sessions_student_id_students_id_fk": {
          "name": "sessions_student_id_students_id_fk",
          "tableFrom": "sessions",
          "tableTo": "students",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "sessions_story_id_generated_stories_id_fk": {
          "name": "sessions_story_id_generated_stories_id_fk",
          "tableFrom": "sessions",
          "tableTo": "generated_stories",
          "columnsFrom": [
            "story_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "skill_progress": {
      "name": "skill_progress",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "skill_id": {
          "name": "skill_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "categoria": {
          "name": "categoria",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "nivel_mastery": {
          "name": "nivel_mastery",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "total_intentos": {
          "name": "total_intentos",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "total_aciertos": {
          "name": "total_aciertos",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "dominada": {
          "name": "dominada",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "ultima_practica": {
          "name": "ultima_practica",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "proxima_revision": {
          "name": "proxima_revision",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        },
        "creado_en": {
          "name": "creado_en",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "actualizado_en": {
          "name": "actualizado_en",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "skill_student_idx": {
          "name": "skill_student_idx",
          "columns": [
            "student_id"
          ],
          "isUnique": false
        },
        "skill_id_idx": {
          "name": "skill_id_idx",
          "columns": [
            "student_id",
            "skill_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "skill_progress_student_id_students_id_fk": {
          "name": "skill_progress_student_id_students_id_fk",
          "tableFrom": "skill_progress",
          "tableTo": "students",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "story_questions": {
      "name": "story_questions",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "story_id": {
          "name": "story_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tipo": {
          "name": "tipo",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "pregunta": {
          "name": "pregunta",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "opciones": {
          "name": "opciones",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "respuesta_correcta": {
          "name": "respuesta_correcta",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "explicacion": {
          "name": "explicacion",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "dificultad": {
          "name": "dificultad",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 3
        },
        "orden": {
          "name": "orden",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "creado_en": {
          "name": "creado_en",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "questions_story_idx": {
          "name": "questions_story_idx",
          "columns": [
            "story_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "story_questions_story_id_generated_stories_id_fk": {
          "name": "story_questions_story_id_generated_stories_id_fk",
          "tableFrom": "story_questions",
          "tableTo": "generated_stories",
          "columnsFrom": [
            "story_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "students": {
      "name": "students",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "parent_id": {
          "name": "parent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "nombre": {
          "name": "nombre",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "fecha_nacimiento": {
          "name": "fecha_nacimiento",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "idioma": {
          "name": "idioma",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'es-ES'"
        },
        "dialecto": {
          "name": "dialecto",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'es-ES'"
        },
        "curso": {
          "name": "curso",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "centro_escolar": {
          "name": "centro_escolar",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "rutina_lectura": {
          "name": "rutina_lectura",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "acompanamiento": {
          "name": "acompanamiento",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "senales_dificultad": {
          "name": "senales_dificultad",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        },
        "intereses": {
          "name": "intereses",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "temas_evitar": {
          "name": "temas_evitar",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "personajes_favoritos": {
          "name": "personajes_favoritos",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "contexto_personal": {
          "name": "contexto_personal",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "nivel_lectura": {
          "name": "nivel_lectura",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "comprension_score": {
          "name": "comprension_score",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "baseline_confianza": {
          "name": "baseline_confianza",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "baseline_completado": {
          "name": "baseline_completado",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "perfil_completo": {
          "name": "perfil_completo",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "elo_global": {
          "name": "elo_global",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1000
        },
        "elo_literal": {
          "name": "elo_literal",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1000
        },
        "elo_inferencia": {
          "name": "elo_inferencia",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1000
        },
        "elo_vocabulario": {
          "name": "elo_vocabulario",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1000
        },
        "elo_resumen": {
          "name": "elo_resumen",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1000
        },
        "elo_rd": {
          "name": "elo_rd",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 350
        },
        "accesibilidad": {
          "name": "accesibilidad",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        },
        "creado_en": {
          "name": "creado_en",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "actualizado_en": {
          "name": "actualizado_en",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "students_parent_id_parents_id_fk": {
          "name": "students_parent_id_parents_id_fk",
          "tableFrom": "students",
          "tableTo": "parents",
          "columnsFrom": [
            "parent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "topics": {
      "name": "topics",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "nombre": {
          "name": "nombre",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "emoji": {
          "name": "emoji",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "descripcion": {
          "name": "descripcion",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "categoria": {
          "name": "categoria",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'general'"
        },
        "edad_minima": {
          "name": "edad_minima",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 5
        },
        "edad_maxima": {
          "name": "edad_maxima",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 9
        },
        "activo": {
          "name": "activo",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": true
        },
        "orden": {
          "name": "orden",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "creado_en": {
          "name": "creado_en",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "topics_slug_unique": {
          "name": "topics_slug_unique",
          "columns": [
            "slug"
          ],
          "isUnique": true
        },
        "topics_slug_idx": {
          "name": "topics_slug_idx",
          "columns": [
            "slug"
          ],
          "isUnique": false
        },
        "topics_activo_idx": {
          "name": "topics_activo_idx",
          "columns": [
            "activo"
          ],
          "isUnique": false
        },
        "topics_categoria_idx": {
          "name": "topics_categoria_idx",
          "columns": [
            "categoria"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    }
  },
  "views": {},
  "enums": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "indexes": {}
  }
}